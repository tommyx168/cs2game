<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CS2 私房局大厅</title>
  <link rel="stylesheet" href="style.css?v=20251230_3" />
</head>
<body>

  <div id="entryPage" class="center">
    <div class="panel">
      <h1>请输入 ID（名字 + 段位）</h1>

      <div class="row">
        <input id="playerInput" placeholder="例：xGonv AK（一个输入框）" />
      </div>

      <div class="row">
        <button id="btnJoinPlayers" class="primary">加入大厅</button>
        <button id="btnJoinWait" class="ghost">加入候补</button>
      </div>

      <div class="row">
        <button id="btnAdminEnter" class="ghost">进入管理员模式</button>
      </div>

      <div id="adminHint" class="hint hidden">
        你当前处于管理员模式。
      </div>

      <div class="hint">
        大厅最多10人，候补最多4人。<br/>
        非 lobby 阶段（例如已开始准备/选人）时：你仍可选择加入候补；若是 ready 阶段且大厅有空位，也可以加入大厅（加入后需要准备）。<br/>
        如果你总是进候补，管理员点一下“重置”回 lobby 就行。
      </div>
    </div>
  </div>

  <div id="roomPage" class="wrap hidden">
    <div class="card">
      <div class="topbar">
        <div>
          <div class="titleRow">
            <div class="title">房间：<span id="roomTitle"></span></div>
            <div id="roleBadge" class="badge">游客</div>
          </div>
          <div id="meLine" class="hint"></div>
        </div>

        <div class="row" style="margin:0;">
          <button id="btnReady" class="primary hidden">准备</button>
          <button id="btnLeave">退出房间</button>
        </div>
      </div>

      <div id="adminPanel" class="admin hidden">
        <div class="adminTitle">管理员面板</div>
        <div class="row">
          <button id="btnStart" class="danger">开始对局（管理员）</button>
          <button id="btnReset">重置（管理员）</button>
          <button id="btnGoDraft" class="primary">进入选人（管理员）</button>
        </div>
        <div class="hint">
          进入选人条件：大厅人数为偶数 + 全员已准备（不要求满10）。<br/>
          踢人：点玩家条右侧“×”。
        </div>
      </div>

      <div class="sectionTitle">大厅（最多10人，左5右5）</div>
      <div id="playerGrid" class="slots"></div>

      <div class="sectionTitle" style="margin-top:14px;">候补（最多4人）</div>
      <div id="waitGrid" class="waitSlots"></div>

      <div id="statusBox" class="status">大厅中…</div>
    </div>
  </div>

  <script src="https://www.gstatic.com/firebasejs/10.12.5/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.5/firebase-database-compat.js"></script>
  <script src="app.js?v=20251230_3"></script>
</body>
</html>
