<!-- index.html（只修复 entryPage 那段 div 结构，别的保持你现在的） -->
<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CS2 谁是卧底</title>
  <link rel="stylesheet" href="style.css?v=20251230_full" />
</head>
<body>
  <!-- 进房页 -->
  <div id="entryPage" class="center">
    <div class="panel">
      <div class="h1">CS2谁是卧底</div>
      <div class="row">
        <input id="playerInput" placeholder="例：xGonv AK" />
        <button id="btnJoin" class="btn primary">进入</button>
      </div>

      <div id="adminHint" class="hint hidden">你现在是管理员模式。</div>

      <div class="hint">
        核心玩法：CS 版《谁是卧底》<br/>
        身份机制：<br/>
        • 每边 5 人<br/>
        • 平民 4 + 卧底 1（每队各一个）<br/><br/>

        平民目标：<br/>
        • 正常打比赛，赢下对局，找出卧底<br/><br/>

        卧底目标：<br/>
        • 让对面赢<br/>
        • 但要：<br/>
        &nbsp;&nbsp;o 演得像正常队友<br/>
        &nbsp;&nbsp;o 不能被发现<br/>
        &nbsp;&nbsp;o 完成指定任务
      </div>
    </div>
  </div>

  <!-- 房间页（你原本的保持不动） -->
  <div id="roomPage" class="wrap hidden">
    <div class="card">
      <div class="topbar">
        <div>
          <div class="titleRow">
            <div class="title">房间：<span id="roomTitle"></span></div>
            <div id="roleBadge" class="badge">游客</div>
          </div>
          <div id="meLine" class="hint"></div>
        </div>

        <div class="row" style="margin:0;">
          <button id="btnSwitch" class="btn ghost hidden">切换到候补</button>

          <button id="btnStartDraft" class="btn primary hidden">开始选人</button>
          <button id="btnAssignRoles" class="btn danger hidden">分配身份</button>

          <button id="btnStartVote" class="btn primary hidden">进入投票</button>
          <button id="btnEndVote" class="btn danger hidden">结束投票</button>

          <button id="btnLeave" class="btn">退出</button>
        </div>
      </div>

      <div id="adminPanel" class="admin hidden">
        <div class="adminTitle">管理员工具箱</div>
        <div class="row">
          <button id="btnReset" class="btn ghost">一键重置</button>
          <button id="btnAdminPeek" class="btn ghost">查看身份（关）</button>
        </div>
        <div class="hint">踢人：点玩家条右侧“×”。</div>
      </div>

      <div id="stageLobby">
        <div class="sectionTitle">大厅</div>
        <div id="playerGrid" class="slots"></div>

        <div class="sectionTitle" style="margin-top:14px;">候补</div>
        <div id="waitGrid" class="waitSlots"></div>
      </div>

      <div id="stageDraft" class="hidden">
        <div class="sectionTitle">选人阶段</div>

        <div class="row">
          <div class="card subcard">
            <div class="titleRow" style="justify-content:space-between;">
              <div class="title">蓝队first pick</div>
              <div id="turnBlue" class="badge">—</div>
            </div>
            <div id="blueTeamBox"></div>
          </div>

          <div class="card subcard">
            <div class="titleRow" style="justify-content:space-between;">
              <div class="title">红队</div>
              <div id="turnRed" class="badge">—</div>
            </div>
            <div id="redTeamBox"></div>
          </div>
        </div>

        <div class="card">
          <div class="titleRow" style="justify-content:space-between;">
            <div class="title">等待区</div>
            <div id="pickHint" class="badge">—</div>
          </div>
          <div id="waitingBox" class="slots"></div>
          <div id="draftHelpText" class="hint"></div>
        </div>
      </div>

      <div id="stageReveal" class="hidden">
        <div class="sectionTitle">身份确认</div>
        <div class="card">
          <div class="titleRow" style="justify-content:space-between;">
            <div class="title">你的身份</div>
            <div id="revealStatus" class="badge">—</div>
          </div>
          <div id="myRoleCard" class="hint" style="font-size:14px; line-height:1.9;"></div>
          <div class="row" style="margin-top:12px;">
            <button id="btnConfirmRole" class="btn primary">确认</button>
          </div>
          <div id="revealHint" class="hint"></div>
        </div>
      </div>

      <div id="stageTeams" class="hidden">
        <div class="sectionTitle">双方成员</div>
        <div class="row">
          <div class="card subcard">
            <div class="title">蓝队</div>
            <div id="teamsBlueOnly"></div>
          </div>
          <div class="card subcard">
            <div class="title">红队</div>
            <div id="teamsRedOnly"></div>
          </div>
        </div>
        <div class="hint">重来请call管理员</div>
      </div>

      
      <div id="stageVote" class="hidden">
        <div class="sectionTitle">投票阶段</div>
        <div class="card">
          <div class="titleRow" style="justify-content:space-between;">
            <div class="title">选择你认为的卧底（只可投本队）</div>
            <div id="voteHint" class="badge">—</div>
          </div>
          <div id="voteList" class="slots" style="margin-top:10px;"></div>
          <div id="voteResult" class="hint" style="margin-top:10px;"></div>
        </div>
      </div>

      <div id="statusBox" class="status">大厅中…</div>
    </div>
  </div>

  <script src="https://www.gstatic.com/firebasejs/10.12.5/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.5/firebase-database-compat.js"></script>
  <script src="app.js?v=20251230_vote_teamfilter_v1"></script>
</body>
</html>
