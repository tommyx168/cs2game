<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CS2 私房局</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- 进入页：只有输入 + 加入 -->
  <div id="entryPage" class="center">
    <div class="panel">
      <h1>请输入 名字 + 段位</h1>

      <div class="row">
        <input id="playerInput" placeholder="例：xGonv AK（只要一个输入框）" />
      </div>

      <div class="row">
        <button id="btnJoin" class="primary">加入</button>
      </div>

      <div class="hint">
        加入后会看到当前已加入的玩家列表。<br/>
        关闭网页/断网会自动退出房间。
      </div>
    </div>
  </div>

  <!-- 房间页：游客只显示玩家列表；管理员额外显示管理区 -->
  <div id="roomPage" class="wrap hidden">
    <div class="card">
      <div class="topbar">
        <h2 style="margin:0;">房间：<span id="roomTitle"></span></h2>
        <button id="btnLeave">退出房间</button>
      </div>

      <!-- 管理员区（游客看不到） -->
      <div id="adminPanel" class="admin hidden">
        <div class="adminTitle">管理员面板</div>
        <div class="row">
          <button id="btnStart" class="danger">开始（管理员）</button>
          <button id="btnReset">重置（管理员）</button>
        </div>
        <div class="hint">只有你用带 ?admin= 的链接打开才会显示这里。</div>
      </div>

      <h3>已加入玩家（<span id="countPlayers">0</span>）</h3>
      <ul id="playerList" class="list"></ul>

      <div id="statusBox" class="status">大厅中…</div>
    </div>
  </div>

  <!-- Firebase CDN -->
  <script src="https://www.gstatic.com/firebasejs/10.12.5/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.5/firebase-database-compat.js"></script>

  <script src="app.js"></script>
</body>
</html>
